# VanillaBeans Specification

> Этот документ разъясняет понятия и сущности.

## Назначение библиотеки
**VanillaBeans** предназначена для разработки пользовательских интерфейсов любой сложности и динамичности. Предоставляет возможность создания собственных компонентов и объединения их в сложные композиты, непосредственно используя возможности HTML, Javascript и DOM API.

## Краткое описание
**VanillaBeans** - это тонкая надстройка над HTML и DOM API, не создаэт своего собственного окружения, не диктует правила и не изолирует Вас от возможностей WEB платформы. Всё, что можно делать с HTML и Javascript, можно делать с компонентами **VanillaBeans**. Декларация компонента использует HTML для описания структуры компонента и Javascript для описания его поведения наиболее очевидным образом.

Экстремально лёгкая и быстрая.  
Крайне проста в освоении, достаточно знания основ HTML, Javascript и DOM API.  
Идеальна для обучения.

Библиотека и идеи, лежащие в её основе настолько просты и очевидны, что даже не понятно, почему никто не реализовал что-то подобное раньше.

**VanillaBeans, не является альтернативой Web Components, прекрасно с ними совмещается в обе стороны.**

## Термины и определения

### Bean
Композитный компонент, - основной строительный блок для построения пользовательского интерфейса, имеет своё дерево DOM, поведение и жизненный цикл. Может составляться из стандартных элементов, Custom Elements и других бинов.

### Bean declaration
Декларация бина - HTML разметка и (опционально) скрипт инициализации, описывающий поведение и обработчики событий жизненного цикла.  
Минимальая декларация бина на базе элемента DIV:

```html
<div beans-as="my-bean">

</div>

```
Парсинг декларации осуществляется штатными средствами браузера. HTML комментарии игнрируются при парсинге.

### BeanDescriptor
Дескриптор бина - внутреннее представление бина в репозитории, создаётся библиотекой из декларации бина.

### Bean instance
Экземпляр бина, - DOM Node с подмешанными методами и обработчиками событий жизненного цикла, не содержит специфичных **beans-ххх** атрибутов. Создаётся библиотекой из BeanDescriptor

### BeansLibrary declaration
Текстовый файл или строка с набором деклараций бинов и импортом других BeansLibrary (аналогично модулям ESM), так-же может импортировать модули CommonJs (без зависимостей) и CSS файлы.

### BeansLibrary
Набор BeanDescriptor's в репозитории, создаётся бибиотекой из BeansLibrary declaration.

### Factory
Фабрика, связанная с конкретной BeansLibrary готовая к инициализации контекстом приложения.

### FactoryInitiated
Фабрика, инициированная контекстом приложения.

### Application
Приложение, в котором используются бины. Объединяется через **Application context**

### Application context
Произвольный объект, определяемый разработчиком приложения, который передаётся во все бины одного приложения через аргумент скрипта инициализации **$context**.

**$context** может содержать, например, ссылку на контроллер приложения, общий диспетчер сообщений, менеджер состояний, набор настроек, всё что полезно - в зависимости от реализуемой архитектуры приложения.

## Состав библиотеки

### Модули
[factory.mjs](../sources/js/factory.mjs) экспортирует по умолчанию фабричный метод **factory**

### Сборки

## Расширение HTML для использования в BeansLibrary declaration

> Для осуществления своего назначения библиотека расширяет HTML, вводя специальные тэги и атрибуты для использования

### Tags
Добавлен только один тэг

**&lt;BEANS-IMPORT&gt;** используется в BeansLibrary declaration для подключения зависимостей. должен располагаться на верхнем уровне декларации. Настраивается атрибутами 

- **type** - тип подключаемого ресурса, может принимать значения 

    - **html** - для подключения BeansLibrary declaration
    - **js** - для подключения модуля CommonJs, модуль не должен иметь зависимостей.
    - **css** - для подключения файла css

- **src** - относительный или абсолютный адрес подключаемого ресурса (URL или имя файла)

- **beans-as** - имя подключаемого ресурса для использования в декларациях бинов или скриптах инициализации

### Attributes

- **beans-as**

- **beans-tagname**

- **beans-usetag**

- **beans-ref**

- **beans-body**


### Init script 


